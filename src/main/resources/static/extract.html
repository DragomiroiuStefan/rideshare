<!DOCTYPE html>
<html>
<head>
    <title>Extract City and Address from Form Submission</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAXMvu0dInlJmJAF9zUnykpa2S-Jw_pxZk&libraries=places&callback=initAutocomplete" async defer></script>
    <style>
        #locationInput {
            width: 300px;
        }
    </style>
</head>
<body>
<h1>Extract City and Address from Form Submission</h1>

<form id="myForm" onsubmit="submitForm(event)">
    <label for="locationInput">Location:</label>
    <input type="text" id="locationInput" required>
    <button type="submit">Submit</button>
</form>

<script>
    let autocomplete;

    function initAutocomplete() {
        autocomplete = new google.maps.places.Autocomplete(
            document.getElementById('locationInput')
        );
    }

    function submitForm(event) {
        event.preventDefault();
        const place = autocomplete.getPlace();
        if (place.geometry) {
            const city = getCityFromPlace(place);
            const address = place.formatted_address;
            console.log('City:', city);
            console.log('Address:', address);
        }
        // Additional form submission logic can be added here
    }

    function getCityFromPlace(place) {
        for (const component of place.address_components) {
            if (
                component.types.includes('locality') ||
                component.types.includes('administrative_area_level_1')
            ) {
                return component.long_name;
            }
        }
        return '';
    }
</script>
</body>
</html>
